
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
<title>欢迎来到Throwable</title>
<meta name="keywords" content="throwaable,seava,error">
<meta name="description" content="ThrowAble网站！">
<meta name="content-type" content="text/html; charset=UTF-8">
<link rel="Bookmark" href="favicon.ico" >
<link rel="Shortcut Icon" href="faviconte.ico" />
<!--[if lt IE 9]>
<script type="text/javascript" src="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
<script type="text/javascript" src="http://libs.useso.com/js/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<link href="static/h-ui/css/H-ui.css" rel="stylesheet" type="text/css" />
<link href="static/h-ui/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
<!--[if IE 7]>
<link href="http://www.bootcss.com/p/font-awesome/assets/css/font-awesome-ie7.min.css" rel="stylesheet" type="text/css" />
<![endif]-->
<link href="static/h-ui/css/style.css" rel="stylesheet" type="text/css" />
<!--自己的样式-->
<!--[if IE 6]>
<script type="text/javascript" src="Lib/DD_belatedPNG_0.0.8a-min.js" ></script>
<script>DD_belatedPNG.fix('.pngfix,.icon');</script>
<![endif]-->

 <link href="umeditor/themes/default/css/ueditor.css" type="text/css" rel="stylesheet">
    <script type="text/javascript" src="umeditor/third-party/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="umeditor/ueditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="umeditor/ueditor.all.min.js"></script>
    <script type="text/javascript" src="umeditor/lang/zh-cn/zh-cn.js"></script>

</head>
<body>
<header class="header">
  <nav class="mainnav cl">
    <ul class="cl">
      <li class="current"><a href="index.html">首页</a></li>
      <li><a href="#">核心</a></li>
      <li><a href="#">扩展</a></li>
      <li><a href="#">案例</a></li>
      <li><a href="#">联系我们</a></li>
      <li>
      	<div style="float: right" id="login_area">
      	
      	</div>
      </li>
      
    </ul>
    
  </nav>
</header>
<div class="wp cl mt-15 f-14">
  <div class="row row-980-20"> 
    <!--以下为大标题部分内容--开始-->
    <div class="main-top-question f-24"> 提出你的问题，大家来解决。
      <input class="btn radius radius btn-info" type="button" value="提问题" onclick="throwable_index.ask();" />
    </div>
    <!--<div class="searchBar">
  			<form class="form-search" method="post" action="">
            <input id="searchKeyword" name="searchKeyword" value="请输入搜索关键词" class="searchTxt">
            <input id="searchBtn" name="searchBtn" type="submit" value="搜索" class="searchBtn" onclick="b_onclick()">
          </form>
		</div>-->
    <!--以下为大标题部分内容--结束--> 
    <!--以下为左边的主显示板块--开始--> 
    <!--左边主体部分的标签页-->
    <div class="span-15">
      <div id="tab_demo" class="HuiTab">
        <div class="tabBar cl"><span>最新的</span><span>最热的</span><span>等你的</span></div>
        <div class="tabCon" id="latest_list"> 
          
          <!--问题重复的部分--开始-->
          <!--问题重复的部分--结束-->
          
        </div>
        <!--最新--结束-->
        <div class="tabCon" id="hot_list">内容二</div>
        <div class="tabCon" id="mf_list">内容三</div>
      </div>
    </div>
    <!--以下为左边的主显示板块--结束--> 
    
    <!--以下为右边的附显示板块--开始-->
    <div class="span-5">
      <div class="pt-5 pb-5 f-16 c-gray pd-10 right-message-item"><a href="#">我的提问</a></div>
      <div class="pt-5 pb-5 f-16 c-gray pd-10 right-message-item"><a href="#">我的关注</a></div>
      <div class="pt-5 pb-5 f-16 c-gray pd-10 right-message-item"><a href="#">我的收藏</a></div>
    
	 <div class="line  pt-10 mt-10"/>
      <!--最热标签-->
      <div class="pt-5 pb-5 f-20 mt-15" > <a href="#">最热标签</a> </div>
      <div class="pt-5 pb-5 f-14 mt-15" id="allLabels_area"> 
      <a href="#"><span class="main-right-bottom-tag ml-10 mt-10">java</span></a> 
      <a href="#"><span class="main-right-bottom-tag ml-10 mt-10">eclipse</span></a> 
      <a href="#"><span class="main-right-bottom-tag ml-10 mt-10">java</span></a> 
      <a href="#"><span class="main-right-bottom-tag ml-10 mt-10">mysql</span></a> 
      <a href="#"><span class="main-right-bottom-tag ml-10 mt-10">Spring</span></a> 
      <a href="#"><span class="main-right-bottom-tag ml-10 mt-10">jdk</span></a> 
      <a href="#"><span class="main-right-bottom-tag ml-10 mt-10">tomcat</span></a> 
      <a href="#"><span class="main-right-bottom-tag ml-10 mt-10">hadoop</span></a> 
      <a href="#"><span class="main-right-bottom-tag ml-10 mt-10">hibernate</span></a> 
      <a href="#"><span class="main-right-bottom-tag ml-10 mt-10">spring</span></a> </div>
      <div class="line pt-10 mt-10"/>
      <!--最新热门-->
      <div class="pt-5 pb-5 f-20 mt-15 pb-5 l22" > <a href="#">最新热门</a> </div>
      <div id="new_ma_list">
      
      </div>
    </div>
  </div>
</div>
<div class="clearfix"></div>

<!-- 弹窗代码  begin -->
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
    	<div class="modal-dialog" style="width: 100%;">
    		<div class="modal-content">	
    			<div class="modal-header">
        			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        			<h4 class="modal-title" id="myModalLabel">提问</h4>
      			</div>
      			<div class="modal-body" id="modal-body-context">
      				
      				<form id="question">
  			问题名称<br>
  			<input type="text" id="name" style="width: 100%;" /><br><br>
  			问题描述<br>
  			<script type="text/plain" id="myEditor" style="height:240px;">

			</script>
		<!-- <textarea name="content" style="width:800px;height:400px;visibility:hidden;"></textarea> -->	
			<br>
  			问题类型<br><select id="type2">
  						<option value="1">公开</option>
  						<option value="2">私有</option>
  					</select>
  					<br><br>
  		</form>
      			</div>
      			<div class="modal-footer">
      				<span id="sure-botton"></span>
      				<button type="button" class="btn btn-default" data-dismiss="modal" onclick="throwable_index.addQuestion();">添加问题</button>
        			<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
      			</div>
    		</div><!-- /.modal-content -->
  		</div>
    </div>
    
    <div id="ajaxModal" class="modal hide fade" tabindex="-1" data-width="700"></div>
<!-- 弹窗代码  end -->


<footer class="footer">
  <p>Copyright &copy;2013-2014 throwable.com All Rights Reserved. Seava Studio</p>
	<div class="row row-980-20 c-black">
    	<div class="span-4">本站相关</div>
    	<div class="span-4">1</div>
        <div class="span-4">1</div>
        <div class="span-4">1</div>
        <div class="span-4">1</div>
    </div>
</footer>

<a href="javascript:void(0)" class="toTop" title=backToTopTxt alt=backToTopTxt></a>
<script type="text/javascript" src="Lib/jquery.min.js"></script> 
<script type="text/javascript" src="static/h-ui/js/H-ui.js"></script> 
<script type="text/javascript" src="Lib/stickUp.min.js"></script> 
<script type="text/javascript" src="Lib/bootstrap-modalmanager.js"></script> 
<script type="text/javascript" src="Lib/bootstrap-modal.js"></script> 
<script type="text/javascript" charset="utf-8" src="js/throwable-base.js"></script> 
<script type="text/javascript" charset="utf-8" src="js/utils.js"></script> 
<script type="text/javascript" charset="utf-8" src="js/index.js"></script> 
<!--三个选择页代码--> 
<script type="text/javascript">
var ue = UE.getEditor('myEditor');
	$(function(){
		$.Huitab("#tab_demo .tabBar span","#tab_demo .tabCon","Current","click","0");
		throwable_base.login.isLogin("", function(isLogin){
			if(1 == isLogin) {
				$("#login_area").html('<a href="memberinfo.html?id='+throwable_base.userInfo.id+'">'+throwable_base.userInfo.username+'</a>');
			} else {
				$("#login_area").html('<a href="login.html">登陆</a>');
			}
		});
		$.post("question/getPublicQuestion", 
			{}, 
			function(result){
				$("#latest_list").empty();
				var str = appendStr(result);
				$("#latest_list").append(str);
			}, "json");
		$.post("question/getPublicHotQuestion", 
				{}, 
				function(result){
					$("#hot_list").empty();
					var str = appendStr(result);
					$("#hot_list").append(str);
				}, "json");
		$.post("question/getMostFocusQuestion", 
				{}, 
				function(result){
					$("#mf_list").empty();
					var str = appendStr(result);
					$("#mf_list").append(str);
				}, "json");
		$.post("question/getNewMostAnswerQuestion", 
				{}, 
				function(result){
					$("#new_ma_list").empty();
					var str = appendRightStr(result);
					$("#new_ma_list").append(str);
				}, "json");
		throwable_index.getAllLabels();
	}); 
	
	function appendStr(result) {
		var obj = eval('(' + result.questions + ')');
		var retStr = '';
		for(var i = 0; i < obj.length; i++){
			var str = '<div class="bk-gray-xm">';
			str += '<div class="main-all-list-item">';
			str += '<div class="main-left-3thing">';
			str += '<div class="main-left-inside text-c">'+obj[i].agrees+'<br/>赞同</div>';
			str += '<div class="main-left-inside text-c box-shadow answer-color">'+obj[i].answers+'<br/>回答</div>';
			str += '<div class="main-left-inside text-c">'+obj[i].viewers+'<br/>浏览</div>';
			str += ' </div>';
			str += ' <div class="main-right">';
			str += ' <div class="main-right-same">';
			str += '<div class="f-16 main-right-bottom-title"><a href="details.html?qid='+obj[i].id+'">'+obj[i].question_name+'</a></div></div>';
			
			str += '<div class="main-right-same">';
			str += '<div class="main-right-top-left f-13 c-gray">'+obj[i].username+'</div>';
			str += '<div class="main-right-top-left pl-10 f-13 c-gray">'+obj[i].create_time+'提问</div>';
			for(var j = 0; j < obj[i].labels.length; j++) {
				str += '<a href="#"><span class="main-right-bottom-tag ml-10">'+obj[i].labels[j].labelName+'</span></a>';
			}
			str += '</div></div></div></div>';
			str += '<div class="clearfix bb"></div>';
			retStr += str;
		}
		return retStr;
	}
	
	function appendRightStr(result) {
		var obj = eval('(' + result.questions + ')');
		var retStr = '';
		for(var i = 0; i < obj.length; i++){
			var str = '<div class="pt-5 pb-5 f-16 mt-5 mb-5">';
			str += '<div class="c-orange right-hot-title"><a href="details.html?qid='+obj[i].id+'">'+obj[i].question_name+'</a></div>';
			str += '<div class="f-12 c-999 right-hot-title">'+obj[i].answers+'&nbsp;回应</div>';
			str += '</div>';
			retStr += str;
		}
		return retStr;
	}
	
	function ask() {
		var jsonObject = {
				question_name:$("#name").val(),
					question_description:ue.getContent(),
					question_type:$("#type2").val(),
					kind_id:1,
					user_id:throwable_base.userInfo.id
		};
		console.log(jsonObject);
		$.post("question/addQuestion", jsonObject, function(result){
			console.log(result);
		}, "json");
	}
	
</script>


</body>
</html>
<!--H-ui前端框架提供前端技术支持 h-ui.net @2014-7-10 -->
